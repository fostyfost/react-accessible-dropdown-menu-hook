(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var r=n(0),c=(n(2),n(4)),s=n.n(c),i=n(1),a=(n(11),n(5)),o=n.n(a),u=function(){var e=o()(3),t=e.buttonProps,n=e.itemProps,c=e.isOpen;return Object(r.jsxs)("main",{className:"app",children:[Object(r.jsx)("h1",{children:"React Accessible Dropdown Menu Hook"}),Object(r.jsx)("h2",{children:"A simple Hook for creating fully accessible dropdown menus in React"}),Object(r.jsxs)("button",Object(i.a)(Object(i.a)({},t),{},{type:"button",id:"menu-button",children:[Object(r.jsx)("span",{children:"Try me!"}),Object(r.jsx)("i",{className:"fal fa-angle-down"})]})),Object(r.jsxs)("div",{className:c?"visible":"",role:"menu",id:"menu",children:[Object(r.jsxs)("a",Object(i.a)(Object(i.a)({},n[0]),{},{href:"https://github.com/sparksuite/react-accessible-dropdown-menu-hook",id:"menu-item-1",children:[Object(r.jsx)("i",{className:"fab fa-github fa-fw"}),"View on GitHub"]})),Object(r.jsxs)("a",Object(i.a)(Object(i.a)({},n[1]),{},{href:"https://www.npmjs.com/package/react-accessible-dropdown-menu-hook",id:"menu-item-2",children:[Object(r.jsx)("i",{className:"fab fa-npm fa-fw"}),"View on npm"]})),Object(r.jsxs)("a",Object(i.a)(Object(i.a)({},n[2]),{},{onClick:function(){return alert("Click!")},id:"menu-item-3",children:[Object(r.jsx)("i",{className:"fas fa-mouse fa-fw"}),"Item with click handler"]}))]}),Object(r.jsx)("h3",{children:"Behavior:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"The menu can be revealed by clicking the button, or by focusing the button and pressing enter / space"}),Object(r.jsx)("li",{children:"If the menu is revealed with the keyboard, the first menu item is automatically focused"}),Object(r.jsx)("li",{children:"If the menu is revealed with the mouse, the first menu item can be focused by pressing tab / arrow down"}),Object(r.jsxs)("li",{children:[Object(r.jsx)("em",{children:"Once focus is in the menu\u2026"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"The up / down arrow keys allow for navigation through the menu items (including wrapping from first to last and vice versa)"}),Object(r.jsx)("li",{children:"Pressing tab will close the menu and move the focus to the next focusable element"}),Object(r.jsx)("li",{children:"Pressing shift-tab will close the menu and move the focus to the previous focusable element"}),Object(r.jsx)("li",{children:"Pressing escape will close the menu and return the focus to the button"}),Object(r.jsx)("li",{children:"Pressing enter will activate that item and close the menu (whether it\u2019s a link or has a click handler attached)"})]})]})]}),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsxs)("a",{href:"https://github.com/sparksuite/react-accessible-dropdown-menu-hook",id:"first-footer-link",children:["View on GitHub ",Object(r.jsx)("i",{className:"fad fa-external-link"})]}),Object(r.jsxs)("a",{href:"https://www.npmjs.com/package/react-accessible-dropdown-menu-hook",children:["View on npm ",Object(r.jsx)("i",{className:"fad fa-external-link"})]}),"Built by\xa0",Object(r.jsxs)("a",{href:"https://www.sparksuite.com",target:"_blank",rel:"noopener noreferrer",children:["Sparksuite ",Object(r.jsx)("i",{className:"fad fa-external-link"})]})]})]})};s.a.render(Object(r.jsx)(u,{}),document.getElementById("root"))},5:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),c=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,c++)r[c]=s[i];return r};Object.defineProperty(t,"__esModule",{value:!0});var c=n(2);t.default=function(e){var t=c.useState(!1),n=t[0],s=t[1],i=c.useRef(null),a=c.useRef(!0),o=c.useRef(!1),u=c.useRef(null),l=c.useRef([]);c.useEffect((function(){l.current=r(Array(e)).map((function(){return c.createRef()}))}),[e]);var f=function(e){var t;i.current=e,null===(t=l.current[e].current)||void 0===t||t.focus()};c.useEffect((function(){a.current?a.current=!1:n&&!o.current?f(0):n||(o.current=!1)}),[n]),c.useEffect((function(){if(n){var e=function(e){setTimeout((function(){e.target instanceof Element&&(e.target.closest('[role="menu"]')instanceof Element||s(!1))}),10)};return setTimeout((function(){document.addEventListener("click",e)}),1),function(){return document.removeEventListener("click",e)}}}),[n]),c.useEffect((function(){var e=function(e){!n||"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n]);var d=function(e){if(function(e){return void 0!==e.key}(e)){var t=e.key;if(!["Enter"," ","Tab","ArrowDown"].includes(t))return;("Tab"===t||"ArrowDown"===t)&&o.current&&n?(e.preventDefault(),f(0)):"Tab"!==t&&(e.preventDefault(),s(!0))}else o.current=!n,s(!n)},h=function(e){var t,n=e.key;if(["Tab","Shift","Enter","Escape","ArrowUp","ArrowDown"].includes(n)){var r=i.current;if("Escape"===n)return s(!1),void(null===(t=u.current)||void 0===t||t.focus());if("Tab"!==n){if("Enter"===n)return e.currentTarget.href||e.currentTarget.click(),void s(!1);null!==r&&("ArrowUp"===n?r-=1:"ArrowDown"===n&&(r+=1),r>l.current.length-1?r=0:r<0&&(r=l.current.length-1)),null!==r&&f(r)}else s(!1)}};return{buttonProps:{onKeyDown:d,onClick:d,tabIndex:0,ref:u,role:"button","aria-haspopup":!0,"aria-expanded":n},itemProps:r(Array(e)).map((function(e,t){return{onKeyDown:h,tabIndex:-1,role:"menuitem",ref:l.current[t]}})),isOpen:n,setIsOpen:s}}}},[[12,1,2]]]);
//# sourceMappingURL=main.5a9e77d4.chunk.js.map